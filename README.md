

# üõ†Ô∏è **TokenizeLocal: –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ç–æ–∫–µ–Ω–∏–∑–∞—Ü–∏–∏ –±–∏–∑–Ω–µ—Å–∞**

## 1. –û–±—â–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
tokenize_local/
‚îÇ
‚îú‚îÄ‚îÄ main.py                      # –û—Å–Ω–æ–≤–Ω–æ–π —Å–∫—Ä–∏–ø—Ç —Å –ª–æ–≥–∏–∫–æ–π –≤—ã–±–æ—Ä–∞ —Ä–æ–ª–∏ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ .env                         # –•—Ä–∞–Ω–µ–Ω–∏–µ API-–∫–ª—é—á–∞ Checko
‚îÇ
‚îú‚îÄ‚îÄ blockchain/
‚îÇ   ‚îú‚îÄ‚îÄ db_manager.py            # –†–∞–±–æ—Ç–∞ —Å –±–∏–∑–Ω–µ—Å–∞–º–∏, —Ç–æ–∫–µ–Ω–∞–º–∏ –∏ –±–∞–ª–∞–Ω—Å–æ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
‚îÇ   ‚îú‚îÄ‚îÄ register_user.py         # –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
‚îÇ   ‚îî‚îÄ‚îÄ records_check.py         # –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ –ë–î
‚îÇ
‚îú‚îÄ‚îÄ verification/
‚îÇ   ‚îî‚îÄ‚îÄ api_client.py           # –ö–ª–∏–µ–Ω—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–æ–º–ø–∞–Ω–∏–π —á–µ—Ä–µ–∑ Checko API
‚îÇ
‚îî‚îÄ‚îÄ utils/
    ‚îî‚îÄ‚îÄ logger.py               # –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π
```

---

## 2. –°—Ö–µ–º–∞ —Ä–∞–±–æ—Ç—ã —Å–∏—Å—Ç–µ–º—ã

```
[–ò–ù–ù] ‚Üí [–ü—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ Checko API] ‚Üí [–í—ã–ø—É—Å–∫ —Ç–æ–∫–µ–Ω–æ–≤ –≤ –ë–î]
     ‚Üì
[–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å] ‚Üí [–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è / —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è] ‚Üí [–í—ã–±–æ—Ä –∫–æ–º–ø–∞–Ω–∏–∏ –∏–∑ —Å–ø–∏—Å–∫–∞]
     ‚Üì
[–ò–Ω–≤–µ—Å—Ç–æ—Ä –ø–æ–∫—É–ø–∞–µ—Ç —Ç–æ–∫–µ–Ω—ã] ‚Üí [–¢–æ–∫–µ–Ω—ã –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –≤ user_tokens]
     ‚Üì
[–ë–∏–∑–Ω–µ—Å –æ–±–Ω–æ–≤–ª—è–µ—Ç –≤—ã—Ä—É—á–∫—É] ‚Üí [–†–∞—Å—á—ë—Ç –¥–∏–≤–∏–¥–µ–Ω–¥–Ω–æ–≥–æ –ø—É–ª–∞] ‚Üí [–í—ã–ø–ª–∞—Ç–∞ –¥–∏–≤–∏–¥–µ–Ω–¥–æ–≤ –ø–æ —Ç–æ–∫–µ–Ω–∞–º]
     ‚Üì
[–í—Å–µ –¥–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ SQLite] ‚Üí [–ú–æ–∂–Ω–æ –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å —á–µ—Ä–µ–∑ records_check.py]
```

---

## 3. –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

### 3.1. **–°–∏—Å—Ç–µ–º–∞ –ë–î (SQLite)**
–í—Å–µ –¥–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ `blockchain/database.sqlite`.  
–°–æ–∑–¥–∞—é—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ —á–µ—Ä–µ–∑ –º–µ—Ç–æ–¥ `_initialize_tables()`.

#### –¢–∞–±–ª–∏—Ü—ã:
| –ù–∞–∑–≤–∞–Ω–∏–µ | –ü–æ–ª—è |
|----------|------|
| `businesses` | `inn TEXT PRIMARY KEY`, `name TEXT NOT NULL` |
| `token_issuances` | `business_inn TEXT PRIMARY KEY`, `amount REAL`, `issued_at DATETIME` |
| `users` | `id INTEGER PRIMARY KEY`, `name TEXT`, `email TEXT UNIQUE`, `password TEXT` |
| `user_tokens` | `id INTEGER PRIMARY KEY`, `email TEXT`, `business_inn TEXT`, `tokens REAL DEFAULT 0` |

> ‚öôÔ∏è –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã —Å–≤—è–∑–∞–Ω—ã —á–µ—Ä–µ–∑ –≤–Ω–µ—à–Ω–∏–µ –∫–ª—é—á–∏ (`FOREIGN KEY`) –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∑–∞–ø–∏—Å–∏.

---

### 3.2. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–º–ø–∞–Ω–∏–∏ —á–µ—Ä–µ–∑ Checko API**

–ö–ª–∞—Å—Å `FinancialAPIClient` –¥–µ–ª–∞–µ—Ç –∑–∞–ø—Ä–æ—Å –∫ `/v2/finances` –∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç:
- HTTP-—Å—Ç–∞—Ç—É—Å –æ—Ç–≤–µ—Ç–∞.
- –ü–æ–ª–µ `"meta.status" == "ok"`
- `"company.–°—Ç–∞—Ç—É—Å" == "–î–µ–π—Å—Ç–≤—É–µ—Ç"`

```python
from verification.api_client import FinancialAPIClient
client = FinancialAPIClient(api_key="yCEWUepinagwBCn3")
data = client.get_company_info("5009051111")  # –ò–ù–ù –û–û–û –®–æ–∫–æ–ª–∞–¥–Ω–∏—Ü–∞
```

–ï—Å–ª–∏ –∫–æ–º–ø–∞–Ω–∏—è –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ –∏–ª–∏ –Ω–µ –¥–µ–π—Å—Ç–≤—É–µ—Ç ‚Üí –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –æ—à–∏–±–∫–∞:
```text
ValueError: –ö–æ–º–ø–∞–Ω–∏—è —Å –ò–ù–ù 5009051111 –Ω–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∞ –∏–ª–∏ –Ω–µ –¥–µ–π—Å—Ç–≤—É–µ—Ç. –°—Ç–∞—Ç—É—Å: –õ–∏–∫–≤–∏–¥–∏—Ä–æ–≤–∞–Ω–∞
```

---

### 3.3. **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞–º–∏ —á–µ—Ä–µ–∑ DBManager**

–û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã:
- `register_or_update_business(inn, name)` ‚Üí –¥–æ–±–∞–≤–ª—è–µ—Ç –∏–ª–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç –∫–æ–º–ø–∞–Ω–∏—é.
- `issue_tokens(inn, amount)` ‚Üí –≤—ã–ø—É—Å–∫–∞–µ—Ç —Ç–æ–∫–µ–Ω—ã, –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –ø—Ä–µ–¥—ã–¥—É—â–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è.
- `get_token_stats(inn)` ‚Üí –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç–æ–∫–µ–Ω–∞—Ö –ø–æ –ò–ù–ù.
- `get_all_issuances()` ‚Üí –≤—ã–≤–æ–¥ –≤—Å–µ—Ö –∫–æ–º–ø–∞–Ω–∏–π —Å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º —Ç–æ–∫–µ–Ω–æ–≤.
- `add_user_tokens(email, business_inn, amount)` ‚Üí —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç –±–∞–ª–∞–Ω—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
- `get_user_tokens(email)` ‚Üí –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ —Ç–æ–∫–µ–Ω–æ–≤ —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
- `distribute_dividends(business_inn, revenue, dividend_percentage)` ‚Üí —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç –∏ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è–µ—Ç –¥–∏–≤–∏–¥–µ–Ω–¥—ã –º–µ–∂–¥—É –≤—Å–µ–º–∏ –≤–ª–∞–¥–µ–ª—å—Ü–∞–º–∏ —Ç–æ–∫–µ–Ω–æ–≤.

---

### 3.4. **–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π**

–ß–µ—Ä–µ–∑ –∫–ª–∞—Å—Å `UserManager`:

- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è:
  ```python
  from blockchain.users import UserManager
  user_manager = UserManager()
  user_manager.register_user(name="Alice", email="alice@example.com", password="pass123")
  ```

- –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:
  ```python
  if user_manager.authenticate_user("alice@example.com", "pass123"):
      print("‚úÖ –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–∞")
  ```

> üîê –ü–∞—Ä–æ–ª–∏ –ø–æ–∫–∞ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –æ—Ç–∫—Ä—ã—Ç–æ–º –≤–∏–¥–µ. –í –±—É–¥—É—â–µ–º –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ `bcrypt`.

---

### 3.5. **–õ–æ–≥–∏–∫–∞ –ø–æ–∫—É–ø–∫–∏ —Ç–æ–∫–µ–Ω–æ–≤**

–ü–æ—Å–ª–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç —Å–ø–∏—Å–æ–∫ –∫–æ–º–ø–∞–Ω–∏–π –∏ –º–æ–∂–µ—Ç –≤—ã–±—Ä–∞—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–∫–µ–Ω–æ–≤.

–ü—Ä–∏–º–µ—Ä:
```bash
1. –û–û–û –®–æ–∫–æ–ª–∞–¥–Ω–∏—Ü–∞ (–ò–ù–ù: 5009051111) ‚Äî –¥–æ—Å—Ç—É–ø–Ω–æ —Ç–æ–∫–µ–Ω–æ–≤: 10000.0
2. –û–û–û –ö–æ—Ñ–µ–º–∞–Ω–∏—è (–ò–ù–ù: 7701234567) ‚Äî –¥–æ—Å—Ç—É–ø–Ω–æ —Ç–æ–∫–µ–Ω–æ–≤: 5000.0

–í—ã–±–µ—Ä–∏—Ç–µ –Ω–æ–º–µ—Ä –∫–æ–º–ø–∞–Ω–∏–∏: 1
–°–∫–æ–ª—å–∫–æ —Ç–æ–∫–µ–Ω–æ–≤ —Ö–æ—Ç–∏—Ç–µ –∫—É–ø–∏—Ç—å (–¥–æ—Å—Ç—É–ø–Ω–æ: 10000)? 2000
```

#### –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤ –ë–î:
- –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è `issue_tokens` —Å –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–º –∑–Ω–∞—á–µ–Ω–∏–µ–º: `db.issue_tokens(inn=selected["inn"], amount=-buy_amount)`
- –ó–∞—á–∏—Å–ª—è—é—Ç—Å—è —Ç–æ–∫–µ–Ω—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é: `db.add_user_tokens(email=email, business_inn=selected["inn"], amount=buy_amount)`

---

### 3.6. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –¥–∏–≤–∏–¥–µ–Ω–¥–æ–≤**

–ú–µ—Ç–æ–¥ `distribute_dividends` —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç –≤—ã–ø–ª–∞—Ç—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ:
- –í—ã—Ä—É—á–∫–∏ –±–∏–∑–Ω–µ—Å–∞.
- –ü—Ä–æ—Ü–µ–Ω—Ç–∞ –≤—ã—Ä—É—á–∫–∏, –∫–æ—Ç–æ—Ä—ã–π –Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –Ω–∞ –¥–∏–≤–∏–¥–µ–Ω–¥—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, 10%).
- –û–±—â–µ–≥–æ —á–∏—Å–ª–∞ —Ç–æ–∫–µ–Ω–æ–≤.
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Ç–æ–∫–µ–Ω–æ–≤ —É –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

#### –ü—Ä–∏–º–µ—Ä:
```python
db.distribute_dividends(business_inn="5009051111", revenue=10000, dividend_percentage=0.1)
```

üëâ –û–±—â–∏–π –ø—É–ª –¥–∏–≤–∏–¥–µ–Ω–¥–æ–≤: $1000  
üëâ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å 2000 —Ç–æ–∫–µ–Ω–æ–≤ –ø–æ–ª—É—á–∞–µ—Ç:  
**$1000 √ó (2000 / 10000) = $200**

---

## 4. –ú–µ—Ö–∞–Ω–∏–∑–º –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è –¥–∏–≤–∏–¥–µ–Ω–¥–æ–≤

### –§–æ—Ä–º—É–ª—ã:
$$ \text{–î–∏–≤–∏–¥–µ–Ω–¥–Ω—ã–π –ø—É–ª} = \text{–í—ã—Ä—É—á–∫–∞} \times \text{–ü—Ä–æ—Ü–µ–Ω—Ç –¥–∏–≤–∏–¥–µ–Ω–¥–æ–≤} $$  
$$ \text{–î–∏–≤–∏–¥–µ–Ω–¥ –Ω–∞ —Ç–æ–∫–µ–Ω} = \frac{\text{–î–∏–≤–∏–¥–µ–Ω–¥–Ω—ã–π –ø—É–ª}}{\text{–û–±—â–µ–µ —á–∏—Å–ª–æ —Ç–æ–∫–µ–Ω–æ–≤}} $$  
$$ \text{–î–∏–≤–∏–¥–µ–Ω–¥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é} = \text{–î–∏–≤–∏–¥–µ–Ω–¥ –Ω–∞ —Ç–æ–∫–µ–Ω} \times \text{—Ç–æ–∫–µ–Ω–æ–≤ —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è} $$

---

## 5. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

```sql
-- –¢–∞–±–ª–∏—Ü—ã:
CREATE TABLE businesses (
    inn TEXT PRIMARY KEY,
    name TEXT NOT NULL
);

CREATE TABLE token_issuances (
    business_inn TEXT PRIMARY KEY,
    amount REAL NOT NULL,
    issued_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (business_inn) REFERENCES businesses (inn)
);

CREATE TABLE users (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    name TEXT NOT NULL,
    email TEXT UNIQUE NOT NULL,
    password TEXT NOT NULL
);

CREATE TABLE user_tokens (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    email TEXT NOT NULL,
    business_inn TEXT NOT NULL,
    tokens REAL DEFAULT 0,
    UNIQUE(email, business_inn),
    FOREIGN KEY(business_inn) REFERENCES businesses (inn)
);

CREATE TABLE dividend_history (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    email TEXT NOT NULL,
    business_inn TEXT NOT NULL,
    amount REAL NOT NULL,
    date DATETIME DEFAULT CURRENT_TIMESTAMP
);
```

---

## 6. –°—Ü–µ–Ω–∞—Ä–∏–π –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å —Å–∏—Å—Ç–µ–º–æ–π

### 6.1. –ò–Ω–≤–µ—Å—Ç–æ—Ä:
1. –í—ã–±–∏—Ä–∞–µ—Ç —Ä–æ–ª—å: `user`.
2. –í–≤–æ–¥–∏—Ç email –∏ –ø–∞—Ä–æ–ª—å.
3. –í–∏–¥–∏—Ç —Å–ø–∏—Å–æ–∫ –∫–æ–º–ø–∞–Ω–∏–π –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Ç–æ–∫–µ–Ω–æ–≤.
4. –í—ã–±–∏—Ä–∞–µ—Ç –∫–æ–º–ø–∞–Ω–∏—é –∏ –ø–æ–∫—É–ø–∞–µ—Ç –Ω—É–∂–Ω–æ–µ —á–∏—Å–ª–æ —Ç–æ–∫–µ–Ω–æ–≤.
5. –ü–æ–ª—É—á–∞–µ—Ç –µ–∂–µ–º–µ—Å—è—á–Ω—ã–µ –¥–∏–≤–∏–¥–µ–Ω–¥—ã –ø—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª—å–Ω–æ —Å–≤–æ–µ–π –¥–æ–ª–µ.

### 6.2. –ö–æ–º–ø–∞–Ω–∏—è:
1. –í—ã–±–∏—Ä–∞–µ—Ç —Ä–æ–ª—å: `company`.
2. –í–≤–æ–¥–∏—Ç –ò–ù–ù –∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å—Ç–∞—Ç—É—Å —á–µ—Ä–µ–∑ Checko.
3. –£–∫–∞–∑—ã–≤–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–∫–µ–Ω–æ–≤ –∏ –≤—ã–ø—É—Å–∫–∞–µ—Ç –∏—Ö.
4. –ï–∂–µ–º–µ—Å—è—á–Ω–æ –æ–±–Ω–æ–≤–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –æ –≤—ã—Ä—É—á–∫–µ.
5. –í—ã–∑—ã–≤–∞–µ—Ç `distribute_dividends(...)` –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –≤—ã–ø–ª–∞—Ç—ã –∏–Ω–≤–µ—Å—Ç–æ—Ä–∞–º.

---

## 7. –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–∏—Å—Ç–µ–º–∞ –≤–Ω—É—Ç—Ä–∏

### 7.1. –ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö

```
main.py
‚îÇ
‚îú‚îÄ‚îÄ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–æ–ª–∏: user / company
‚îÇ
‚îú‚îÄ‚îÄ –ï—Å–ª–∏ role == 'user':
‚îÇ   ‚îú‚îÄ‚îÄ –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ UserManager
‚îÇ   ‚îú‚îÄ‚îÄ –°–ø–∏—Å–æ–∫ –∫–æ–º–ø–∞–Ω–∏–π –∏–∑ get_all_issuances()
‚îÇ   ‚îú‚îÄ‚îÄ –ü–æ–∫—É–ø–∫–∞ —Ç–æ–∫–µ–Ω–æ–≤ —á–µ—Ä–µ–∑ add_user_tokens()
‚îÇ   ‚îî‚îÄ‚îÄ –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç–µ–∫—É—â–∏—Ö —Ç–æ–∫–µ–Ω–æ–≤ —á–µ—Ä–µ–∑ get_user_tokens()
‚îÇ
‚îú‚îÄ‚îÄ –ï—Å–ª–∏ role == 'company':
‚îÇ   ‚îú‚îÄ‚îÄ –ü—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ Checko API
‚îÇ   ‚îú‚îÄ‚îÄ –í—ã–ø—É—Å–∫ —Ç–æ–∫–µ–Ω–æ–≤ —á–µ—Ä–µ–∑ issue_tokens()
‚îÇ   ‚îî‚îÄ‚îÄ –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –¥–∏–≤–∏–¥–µ–Ω–¥–æ–≤ —á–µ—Ä–µ–∑ distribute_dividends()
‚îÇ
‚îî‚îÄ‚îÄ –í—Å–µ –¥–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ database.sqlite
```

---

## 8. –ü—Ä–∏–º–µ—Ä –≤—ã–∑–æ–≤–∞ –¥–∏–≤–∏–¥–µ–Ω–¥–æ–≤

```python
def run_full_demo():
    ...
    db.issue_tokens(inn=selected["inn"], amount=tokens)  # –í—ã–ø—É—Å–∫ —Ç–æ–∫–µ–Ω–æ–≤
    ...
    revenue_input = input("–í–≤–µ–¥–∏—Ç–µ –º–µ—Å—è—á–Ω—É—é –≤—ã—Ä—É—á–∫—É –±–∏–∑–Ω–µ—Å–∞: ").strip()
    try:
        revenue = float(revenue_input)
        db.distribute_dividends(business_inn=selected["inn"], revenue=revenue)
    except ValueError:
        logger.log("[ERROR] –ù–µ–≤–µ—Ä–Ω–∞—è –≤—ã—Ä—É—á–∫–∞.", level="ERROR")
```

---

## 9. –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã

–ó–∞–ø—É—Å—Ç–∏—Ç–µ `records_check.py`:

```bash
python blockchain/records_check.py
```

–û–Ω –ø–æ–∫–∞–∂–µ—Ç:
- –ö–∞–∫–∏–µ —Ç–∞–±–ª–∏—Ü—ã –µ—Å—Ç—å.
- –°–æ–¥–µ—Ä–∂–∏–º–æ–µ –∫–∞–∂–¥–æ–π.
- –°–∫–æ–ª—å–∫–æ —Ç–æ–∫–µ–Ω–æ–≤ —É –∫–æ–≥–æ.

---

## 10. –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

| –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|------------|-------------|
| Python | –û—Å–Ω–æ–≤–Ω–æ–π —è–∑—ã–∫ |
| SQLite | –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö |
| requests | –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å Checko API |
| logging | –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–π |
| python-dotenv | –î–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è API-–∫–ª—é—á–∞ |
| sqlite3 | –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î |

---

## 11. –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è

| –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å | –†–µ–∞–ª–∏–∑–∞—Ü–∏—è |
|-------------|-------------|
| REST API | FastAPI / Flask |
| GUI –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å | Streamlit / Tkinter |
| DAO —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ | Snapshot / –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ –≤ –ë–î |
| –í—Ç–æ—Ä–∏—á–Ω—ã–π —Ä—ã–Ω–æ–∫ —Ç–æ–∫–µ–Ω–æ–≤ | –ü–µ—Ä–µ–ø—Ä–æ–¥–∞–∂–∞ –º–µ–∂–¥—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ |
| –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –±–ª–æ–∫—á–µ–π–Ω–æ–º | web3.py + —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã |
| –û—Ä–∞–∫—É–ª—ã | Pyth Network / Chainlink |
| –ü–æ–¥–¥–µ—Ä–∂–∫–∞ USDT / USDC | –î–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏ –¥–∏–≤–∏–¥–µ–Ω–¥–æ–≤ |
| –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—ã–ø—É—Å–∫ –¥–∏–≤–∏–¥–µ–Ω–¥–æ–≤ | –ß–µ—Ä–µ–∑ cron –∏–ª–∏ Airflow |
| –•—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π | bcrypt / hashlib |
| –ò—Å—Ç–æ—Ä–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π | –¢–∞–±–ª–∏—Ü–∞ `dividend_history` |

---

## 12. –ö–∞–∫ –≤—Å—ë –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É–µ—Ç –º–µ–∂–¥—É —Å–æ–±–æ–π

```
+------------------+       +-------------------+
|                  |       |                   |
|  main.py         |<-----> verification/     |
| (—Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞)    |       | api_client.py     |
|                  |       | (Checko API)       |
+--------+---------+       +-------------------+
         |
         v
+--------+---------+       +------------------+
|                   |       |                  |
|  blockchain/      |<-----> db_manager.py   |
|  users.py         |       | (CRUD –±–∏–∑–Ω–µ—Å–æ–≤,   |
| (UserManager)     |       | —Ç–æ–∫–µ–Ω–æ–≤, –¥–∏–≤–∏–¥–µ–Ω–¥–æ–≤) |
+-------------------+       +------------------+

         |
         v
+--------+---------+
|                   |
|  utils/logger.py  |
| (–ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ)     |
+-------------------+
```

---

## 13. –ü—Ä–∏–º–µ—Ä—ã SQL-–∑–∞–ø—Ä–æ—Å–æ–≤

### –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –∫–æ–º–ø–∞–Ω–∏–π:
```sql
SELECT b.inn, b.name, t.amount, t.issued_at
FROM businesses b
LEFT JOIN token_issuances t ON b.inn = t.business_inn;
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä —Ç–æ–∫–µ–Ω–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:
```sql
SELECT ut.business_inn, b.name, ut.tokens
FROM user_tokens ut
JOIN businesses b ON ut.business_inn = b.inn
WHERE ut.email = 'alice@example.com';
```

### –†–∞—Å—á—ë—Ç –¥–∏–≤–∏–¥–µ–Ω–¥–æ–≤:
```sql
SELECT email, tokens FROM user_tokens WHERE business_inn = '5009051111';
```

---
